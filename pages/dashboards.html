<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="dashboards.css">
  <script
    crossorigin="anonymous"
    type="application/javascript"
    src="https://cdn.jsdelivr.net/npm/@qlik/embed-web-components"
    data-host="https://btp-consultants.eu.qlikcloud.com"
    data-client-id="5759845c2f30352f6a3a4b70c270a383"
    data-redirect-uri="https://ilandvd.github.io/datamate-test.github.io/pages/oauth-callback.html"
    data-access-token-storage="session"
  ></script>
  <script type="text/javascript">
    function switchIframe(sheet_id, viewName, button) {
      document.getElementById('mainIframe').src = "https://btp-consultants.eu.qlikcloud.com/single/?appid=89536f44-d98d-446c-b77e-97a7038d2768&sheet="+sheet_id+"&theme=sense&opt=ctxmenu,currsel";
      document.getElementById('selectedView').textContent = viewName;
      
      // Remove 'active' class from all buttons
      const buttons = document.querySelectorAll('.button-container button');
      buttons.forEach(btn => btn.classList.remove('active'));

      // Add 'active' class to the clicked button
      button.classList.add('active');
    }

    document.addEventListener('DOMContentLoaded', function() {
      // Set 'Synthèse' as the default active button
      const defaultButton = document.querySelector('.button-container button[data-sheet="yJDntY"]');
      defaultButton.classList.add('active');
    });
  </script>
</head>
<body>
  <div class="header">
    <a href="../index.html">
      <img src="https://www.databuildr.com/hs-fs/hubfs/DATABUILDER_LOGOS_DatabuildR_Logo_Couleur.png?width=405&height=50&name=DATABUILDER_LOGOS_DatabuildR_Logo_Couleur.png" alt="Logo de l'entreprise" class="logo">
    </a>
    <div class="title-container">
      <span class="separator">|</span>
      <h2 class="title">Datamate</h2>
    </div>
    <p id="selectedView" class="selected-view">Select a view</p>
  </div>
  <div class="button-container">
    <button data-sheet="yJDntY" onclick="switchIframe('yJDntY', 'Synthèse', this)">Synthèse</button>
    <button data-sheet="jkmQPj" onclick="switchIframe('jkmQPj', 'DPE', this)">DPE</button>
    <button data-sheet="NAaJTZQ" onclick="switchIframe('NAaJTZQ', 'Autorisation urbanisme', this)">Autorisation urbanisme</button>
    <button data-sheet="yJDntY" onclick="switchIframe('yJDntY', 'RPLS', this)">RPLS</button>
    <button data-sheet="jkmQPj" onclick="switchIframe('jkmQPj', 'Parc immobilier état', this)">Parc immobilier état</button>
    <button data-sheet="NAaJTZQ" onclick="switchIframe('NAaJTZQ', 'SIREN', this)">SIREN</button>
    <button data-sheet="NAaJTZQ" onclick="switchIframe('NAaJTZQ', 'BOAMP', this)">BOAMP</button>
  </div>
  <iframe id="mainIframe" src="https://btp-consultants.eu.qlikcloud.com/single/?appid=89536f44-d98d-446c-b77e-97a7038d2768&sheet=jkmQPj&theme=sense&opt=ctxmenu,currsel"></iframe>
</body>
</html>
